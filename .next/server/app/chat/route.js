"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/chat/route";
exports.ids = ["app/chat/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fchat%2Froute&page=%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fchat%2Froute.ts&appDir=%2Fhome%2Fkirtan%2FDocuments%2Fsupabase-chat-gpt-main%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fkirtan%2FDocuments%2Fsupabase-chat-gpt-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fchat%2Froute&page=%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fchat%2Froute.ts&appDir=%2Fhome%2Fkirtan%2FDocuments%2Fsupabase-chat-gpt-main%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fkirtan%2FDocuments%2Fsupabase-chat-gpt-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _home_kirtan_Documents_supabase_chat_gpt_main_src_app_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/chat/route.ts */ \"(rsc)/./src/app/chat/route.ts\");\n\n// @ts-ignore this need to be imported from next/dist to be external\n\n\n// @ts-expect-error - replaced by webpack/turbopack loader\n\nconst AppRouteRouteModule = next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule;\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/chat/route\",\n        pathname: \"/chat\",\n        filename: \"route\",\n        bundlePath: \"app/chat/route\"\n    },\n    resolvedPagePath: \"/home/kirtan/Documents/supabase-chat-gpt-main/src/app/chat/route.ts\",\n    nextConfigOutput,\n    userland: _home_kirtan_Documents_supabase_chat_gpt_main_src_app_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/chat/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZjaGF0JTJGcm91dGUmcGFnZT0lMkZjaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGa2lydGFuJTJGRG9jdW1lbnRzJTJGc3VwYWJhc2UtY2hhdC1ncHQtbWFpbiUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRmtpcnRhbiUyRkRvY3VtZW50cyUyRnN1cGFiYXNlLWNoYXQtZ3B0LW1haW4maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDaEQ7QUFDMEY7QUFDM0I7QUFDL0Q7QUFDZ0c7QUFDaEcsNEJBQTRCLGdIQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNpSjs7QUFFakoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGF0Z3B0LWNsb25lLz8wYzFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIm5leHQvZGlzdC9zZXJ2ZXIvbm9kZS1wb2x5ZmlsbC1oZWFkZXJzXCI7XG4vLyBAdHMtaWdub3JlIHRoaXMgbmVlZCB0byBiZSBpbXBvcnRlZCBmcm9tIG5leHQvZGlzdCB0byBiZSBleHRlcm5hbFxuaW1wb3J0ICogYXMgbW9kdWxlIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG4vLyBAdHMtZXhwZWN0LWVycm9yIC0gcmVwbGFjZWQgYnkgd2VicGFjay90dXJib3BhY2sgbG9hZGVyXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2hvbWUva2lydGFuL0RvY3VtZW50cy9zdXBhYmFzZS1jaGF0LWdwdC1tYWluL3NyYy9hcHAvY2hhdC9yb3V0ZS50c1wiO1xuY29uc3QgQXBwUm91dGVSb3V0ZU1vZHVsZSA9IG1vZHVsZS5BcHBSb3V0ZVJvdXRlTW9kdWxlO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9jaGF0L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9jaGF0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2NoYXQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvaG9tZS9raXJ0YW4vRG9jdW1lbnRzL3N1cGFiYXNlLWNoYXQtZ3B0LW1haW4vc3JjL2FwcC9jaGF0L3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvY2hhdC9yb3V0ZVwiO1xuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fchat%2Froute&page=%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fchat%2Froute.ts&appDir=%2Fhome%2Fkirtan%2FDocuments%2Fsupabase-chat-gpt-main%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fkirtan%2FDocuments%2Fsupabase-chat-gpt-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/chat/route.ts":
/*!*******************************!*\
  !*** ./src/app/chat/route.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/utils */ \"(rsc)/./src/app/lib/utils.ts\");\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/auth-helpers-nextjs */ \"(rsc)/./node_modules/@supabase/auth-helpers-nextjs/dist/index.js\");\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/headers.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_headers__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.mjs\");\n\n\n\n\n\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n    apiKey: process.env.OPEN_AI_KEY\n});\nasync function getSummary(text) {\n    const options = {\n        method: \"POST\",\n        url: \"https://api.edenai.run/v2/text/summarize\",\n        headers: {\n            \"authorization\": `Bearer ${process.env.SUMMARIZE_KEY}`\n        },\n        data: {\n            \"output_sentences\": 1,\n            \"providers\": \"connexun\",\n            \"text\": text,\n            \"language\": \"en\"\n        }\n    };\n    let res = {};\n    try {\n        res = await axios__WEBPACK_IMPORTED_MODULE_5__[\"default\"].request(options);\n    } catch (err) {\n        console.log(\"err\", err);\n    }\n    console.log(\"summary\", res);\n    return res?.data?.connexun?.result;\n}\nasync function POST(req) {\n    const supabase = (0,_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_1__.createServerComponentClient)({\n        cookies: next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies\n    });\n    const { data } = await supabase.auth.getSession();\n    if (!data.session) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_3__[\"default\"].json({\n            message: \"Unauthorize\"\n        }, {\n            status: 403\n        });\n    }\n    const { data: { user } } = await supabase.auth.getUser();\n    console.log(\"user\", user);\n    if (!user) {\n        console.log(\"can't find user\");\n    }\n    var { prompt, searchText, chatId } = await req.json();\n    try {\n        const res = await openai.completions.create({\n            prompt,\n            model: \"text-davinci-003\",\n            max_tokens: 512,\n            temperature: 0\n        });\n        let ChatName = \"Chat\";\n        let chatData = [];\n        // await createNewChat()\n        console.log(\"openai\", res);\n        if (chatId === \"\") {\n            if (res.choices[0].text != \"\\n\\nSorry, I don't know how to help with that.\") {\n                const summary = await getSummary(res.choices[0].text);\n                console.log(\"New Chat\", summary);\n                const ChatName = summary.slice(0, 20) + (summary.length > 20 ? \"...\" : \"\");\n                chatData = await (0,_lib_utils__WEBPACK_IMPORTED_MODULE_0__.createNewChat)(ChatName, user?.id);\n                chatId = chatData[0].id;\n                await (0,_lib_utils__WEBPACK_IMPORTED_MODULE_0__.insertMessage)(searchText, res.choices[0].text, chatId);\n                console.log(\"ChatData\", chatData[0]);\n            }\n        }\n        // \n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_3__[\"default\"].json({\n            answer: res.choices[0].text,\n            chatName: ChatName,\n            chat: chatData[0]\n        });\n    } catch  {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_3__[\"default\"].json({\n            message: \"Something went wrong!\"\n        }, {\n            status: 400\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxFQUFFLENBQUNuQyxJQUFJO1lBQUN5QyxVQUFVUjtZQUFTUyxNQUFNUixRQUFRLENBQUMsRUFBRTtRQUFDO0lBQzlGLEVBQUUsT0FBTTtRQUNOLE9BQU8xQyxrRkFBWUEsQ0FBQzRCLElBQUksQ0FDdEI7WUFBRUMsU0FBUztRQUF3QixHQUNuQztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2NoYXRncHQtY2xvbmUvLi9zcmMvYXBwL2NoYXQvcm91dGUudHM/MGJhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVOZXdDaGF0LCBpbnNlcnRNZXNzYWdlIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5pbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDb21wb25lbnRDbGllbnQgfSBmcm9tIFwiQHN1cGFiYXNlL2F1dGgtaGVscGVycy1uZXh0anNcIjtcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tIFwibmV4dC9oZWFkZXJzXCI7XG5pbXBvcnQgeyByZWRpcmVjdCB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IE9wZW5BSSBmcm9tIFwib3BlbmFpXCI7XG5cbmNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUkoe1xuICBhcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5fQUlfS0VZLFxufSk7XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFN1bW1hcnkodGV4dDogc3RyaW5nKSB7IFxuICBjb25zdCBvcHRpb25zID0ge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgdXJsIDogXCJodHRwczovL2FwaS5lZGVuYWkucnVuL3YyL3RleHQvc3VtbWFyaXplXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJhdXRob3JpemF0aW9uXCI6IGBCZWFyZXIgJHtwcm9jZXNzLmVudi5TVU1NQVJJWkVfS0VZfWBcbiAgICB9LFxuICAgIGRhdGE6IHtcbiAgICAgIFwib3V0cHV0X3NlbnRlbmNlc1wiOiAxLFxuICAgICAgXCJwcm92aWRlcnNcIjogXCJjb25uZXh1blwiLFxuICAgICAgXCJ0ZXh0XCI6IHRleHQsXG4gICAgICBcImxhbmd1YWdlXCI6IFwiZW5cIlxuICAgIH1cbiAgfVxuXG4gbGV0IHJlcyA9IHt9XG4gIHRyeSB7ICByZXMgPSBhd2FpdCBheGlvcy5yZXF1ZXN0KG9wdGlvbnMpIH0gY2F0Y2ggKGVycikgeyBjb25zb2xlLmxvZygnZXJyJyxlcnIpfVxuICBjb25zb2xlLmxvZygnc3VtbWFyeScscmVzKVxuICByZXR1cm4gcmVzPy5kYXRhPy5jb25uZXh1bj8ucmVzdWx0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IFJlcXVlc3QpIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTZXJ2ZXJDb21wb25lbnRDbGllbnQoeyBjb29raWVzIH0pO1xuXG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gXG4gIGlmICghZGF0YS5zZXNzaW9uKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZVwiIH0sIHsgc3RhdHVzOiA0MDMgfSk7XG4gIH1cblxuICAgY29uc3Qge1xuICAgIGRhdGE6IHsgdXNlciB9LFxuICB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG4gIGNvbnNvbGUubG9nKFwidXNlclwiLCB1c2VyKTtcbiAgaWYgKCF1c2VyKSB7IFxuICAgIGNvbnNvbGUubG9nKFwiY2FuJ3QgZmluZCB1c2VyXCIpXG4gIH1cbiAgdmFyIHsgcHJvbXB0LCBzZWFyY2hUZXh0LCBjaGF0SWQgfSA9IGF3YWl0IHJlcS5qc29uKCk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IG9wZW5haS5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgcHJvbXB0LFxuICAgICAgbW9kZWw6IFwidGV4dC1kYXZpbmNpLTAwM1wiLFxuICAgICAgbWF4X3Rva2VuczogNTEyLFxuICAgICAgdGVtcGVyYXR1cmU6IDAsXG4gICAgfSk7XG4gICAgbGV0IENoYXROYW1lID0gXCJDaGF0XCI7XG4gICAgbGV0IGNoYXREYXRhID0gW11cbiAgICAvLyBhd2FpdCBjcmVhdGVOZXdDaGF0KClcbiAgICBjb25zb2xlLmxvZygnb3BlbmFpJyxyZXMpXG4gICAgaWYgKGNoYXRJZCA9PT0gXCJcIikge1xuICAgICAgaWYgKHJlcy5jaG9pY2VzWzBdLnRleHQgIT0gXCJcXG5cXG5Tb3JyeSwgSSBkb24ndCBrbm93IGhvdyB0byBoZWxwIHdpdGggdGhhdC5cIikgeyBcbiAgICAgICAgY29uc3Qgc3VtbWFyeSAgPSBhd2FpdCBnZXRTdW1tYXJ5KHJlcy5jaG9pY2VzWzBdLnRleHQpXG4gICAgICBjb25zb2xlLmxvZyhcIk5ldyBDaGF0XCIsIHN1bW1hcnkpXG4gICAgICBjb25zdCBDaGF0TmFtZSA9IHN1bW1hcnkuc2xpY2UoMCwgMjApICsgKHN1bW1hcnkubGVuZ3RoID4gMjAgPyBcIi4uLlwiIDogXCJcIik7XG4gICAgICBjaGF0RGF0YSA9IGF3YWl0IGNyZWF0ZU5ld0NoYXQoQ2hhdE5hbWUsIHVzZXI/LmlkKVxuICAgICAgICBjaGF0SWQgPSBjaGF0RGF0YVswXS5pZFxuICAgICAgICBhd2FpdCBpbnNlcnRNZXNzYWdlKHNlYXJjaFRleHQsIHJlcy5jaG9pY2VzWzBdLnRleHQsIGNoYXRJZCkgXG4gICAgICAgIGNvbnNvbGUubG9nKCdDaGF0RGF0YScsY2hhdERhdGFbMF0pXG4gICAgICB9XG4gICBcbiAgICB9IFxuICAgIFxuICAgIC8vIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGFuc3dlcjogcmVzLmNob2ljZXNbMF0udGV4dCxjaGF0TmFtZTogQ2hhdE5hbWUsY2hhdDogY2hhdERhdGFbMF0gfSk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgbWVzc2FnZTogXCJTb21ldGhpbmcgd2VudCB3cm9uZyFcIiB9LFxuICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZU5ld0NoYXQiLCJpbnNlcnRNZXNzYWdlIiwiY3JlYXRlU2VydmVyQ29tcG9uZW50Q2xpZW50IiwiY29va2llcyIsImF4aW9zIiwiTmV4dFJlc3BvbnNlIiwiT3BlbkFJIiwib3BlbmFpIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk9QRU5fQUlfS0VZIiwiZ2V0U3VtbWFyeSIsInRleHQiLCJvcHRpb25zIiwibWV0aG9kIiwidXJsIiwiaGVhZGVycyIsIlNVTU1BUklaRV9LRVkiLCJkYXRhIiwicmVzIiwicmVxdWVzdCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJjb25uZXh1biIsInJlc3VsdCIsIlBPU1QiLCJyZXEiLCJzdXBhYmFzZSIsImF1dGgiLCJnZXRTZXNzaW9uIiwic2Vzc2lvbiIsImpzb24iLCJtZXNzYWdlIiwic3RhdHVzIiwidXNlciIsImdldFVzZXIiLCJwcm9tcHQiLCJzZWFyY2hUZXh0IiwiY2hhdElkIiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJtb2RlbCIsIm1heF90b2tlbnMiLCJ0ZW1wZXJhdHVyZSIsIkNoYXROYW1lIiwiY2hhdERhdGEiLCJjaG9pY2VzIiwic3VtbWFyeSIsInNsaWNlIiwibGVuZ3RoIiwiaWQiLCJhbnN3ZXIiLCJjaGF0TmFtZSIsImNoYXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/lib/utils.ts":
/*!******************************!*\
  !*** ./src/app/lib/utils.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   createNewChat: () => (/* binding */ createNewChat),\n/* harmony export */   getAllChats: () => (/* binding */ getAllChats),\n/* harmony export */   getAllmessages: () => (/* binding */ getAllmessages),\n/* harmony export */   insertMessage: () => (/* binding */ insertMessage)\n/* harmony export */ });\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/auth-helpers-nextjs */ \"(rsc)/./node_modules/@supabase/auth-helpers-nextjs/dist/index.js\");\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! clsx */ \"(rsc)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tailwind-merge */ \"(rsc)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\n\nconst supabase = (0,_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0__.createClientComponentClient)();\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_2__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.clsx)(inputs));\n}\nasync function createNewChat(chat_name, userId) {\n    try {\n        if (!userId) {\n            return null;\n        }\n        const { data, error, status } = await supabase.from(\"chat\").insert([\n            {\n                user_id: userId,\n                chat_name\n            }\n        ]).select();\n        if (error) {\n            return status;\n        }\n        console.log(\"Inserted\");\n        return data;\n    } catch (e) {\n        console.log(e);\n        return e;\n    }\n}\nasync function getAllChats(user_id) {\n    try {\n        if (!user_id) {\n            return null;\n        }\n        const { data, error, status } = await supabase.from(\"chat\").select(\"*\").eq(\"user_id\", user_id);\n        if (error) {\n            console.log(\"error retrieving all chats\", error);\n            return status;\n        }\n        console.log(\"all chats\", data);\n        return data;\n    } catch (e) {\n        console.log(e);\n        return e;\n    }\n}\n// user_id: UUID\nconst getAllmessages = async (chatId)=>{\n    try {\n        const { data, error } = await supabase.from(\"message\").select(\"*\").eq(\"chat_id\", chatId);\n        console.log(\"read message data\", data, error);\n        if (error) {\n            console.log(\"error\", error);\n            return [];\n        }\n        return data;\n    } catch (error) {\n        console.error(\"Error fetching messages\", error);\n        return [];\n    }\n};\n// user_id: UUID\nasync function insertMessage(question, response, chatId) {\n    try {\n        if (!chatId) {\n            console.log(\"Not chatID\");\n            return null;\n        }\n        const { data, error, status } = await supabase.from(\"message\").insert([\n            {\n                chat_id: chatId,\n                question,\n                response\n            }\n        ]);\n        if (error) {\n            console.log(\"insert MEssage\", error);\n            return status;\n        }\n        console.log(\"Inserted MEssage\", data);\n        return data;\n    } catch (e) {\n        console.log(\"insert MEssage\", e);\n        console.log(e);\n        return e;\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xpYi91dGlscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBNEU7QUFFL0I7QUFFSjtBQWF6QyxNQUFNRyxXQUFXSCwwRkFBMkJBO0FBQzVDLFNBQVNJLEdBQUcsR0FBR0MsTUFBb0I7SUFDakMsT0FBT0gsdURBQU9BLENBQUNELDBDQUFJQSxDQUFDSTtBQUN0QjtBQUVBLGVBQWVDLGNBQWNDLFNBQWlCLEVBQUVDLE1BQTBCO0lBQ3hFLElBQUk7UUFDRixJQUFJLENBQUNBLFFBQVE7WUFDWCxPQUFPO1FBQ1Q7UUFDQSxNQUFNLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUUsR0FBRyxNQUFNUixTQUNuQ1MsSUFBSSxDQUFDLFFBQ0xDLE1BQU0sQ0FBQztZQUFDO2dCQUFFQyxTQUFTTjtnQkFBUUQ7WUFBVTtTQUFFLEVBQ3ZDUSxNQUFNO1FBQ1QsSUFBSUwsT0FBTztZQUNULE9BQU9DO1FBQ1Q7UUFDQUssUUFBUUMsR0FBRyxDQUFDO1FBQ1osT0FBT1I7SUFDVCxFQUFFLE9BQU9TLEdBQUc7UUFDVkYsUUFBUUMsR0FBRyxDQUFDQztRQUNaLE9BQU9BO0lBQ1Q7QUFDRjtBQUVBLGVBQWVDLFlBQVlMLE9BQWU7SUFDeEMsSUFBSTtRQUNGLElBQUksQ0FBQ0EsU0FBUztZQUNaLE9BQU87UUFDVDtRQUNBLE1BQU0sRUFBRUwsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRSxHQUFHLE1BQU1SLFNBQ25DUyxJQUFJLENBQUMsUUFDTEcsTUFBTSxDQUFDLEtBQ1BLLEVBQUUsQ0FBQyxXQUFXTjtRQUNqQixJQUFJSixPQUFPO1lBQ1RNLFFBQVFDLEdBQUcsQ0FBQyw4QkFBOEJQO1lBQzFDLE9BQU9DO1FBQ1Q7UUFDQUssUUFBUUMsR0FBRyxDQUFDLGFBQWFSO1FBQ3pCLE9BQU9BO0lBQ1QsRUFBRSxPQUFPUyxHQUFHO1FBQ1ZGLFFBQVFDLEdBQUcsQ0FBQ0M7UUFDWixPQUFPQTtJQUNUO0FBQ0Y7QUFJQSxnQkFBZ0I7QUFDaEIsTUFBTUcsaUJBQWlCLE9BQU9DO0lBQzVCLElBQUk7UUFDRixNQUFNLEVBQUViLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTVAsU0FDM0JTLElBQUksQ0FBQyxXQUNMRyxNQUFNLENBQUMsS0FDUEssRUFBRSxDQUFDLFdBQVdFO1FBRWpCTixRQUFRQyxHQUFHLENBQUMscUJBQXFCUixNQUFNQztRQUV2QyxJQUFJQSxPQUFPO1lBQ1RNLFFBQVFDLEdBQUcsQ0FBQyxTQUFTUDtZQUNyQixPQUFPLEVBQUU7UUFDWDtRQUVBLE9BQU9EO0lBQ1QsRUFBRSxPQUFPQyxPQUFPO1FBQ2RNLFFBQVFOLEtBQUssQ0FBQywyQkFBMkJBO1FBQ3pDLE9BQU8sRUFBRTtJQUNYO0FBQ0Y7QUFHQSxnQkFBZ0I7QUFDaEIsZUFBZWEsY0FDYkMsUUFBZ0IsRUFDaEJDLFFBQWdCLEVBQ2hCSCxNQUFjO0lBRWQsSUFBSTtRQUNGLElBQUksQ0FBQ0EsUUFBUTtZQUNYTixRQUFRQyxHQUFHLENBQUM7WUFDWixPQUFPO1FBQ1Q7UUFDQSxNQUFNLEVBQUVSLElBQUksRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUUsR0FBRyxNQUFNUixTQUNuQ1MsSUFBSSxDQUFDLFdBQ0xDLE1BQU0sQ0FBQztZQUFDO2dCQUFFYSxTQUFTSjtnQkFBUUU7Z0JBQVVDO1lBQVM7U0FBRTtRQUNuRCxJQUFJZixPQUFPO1lBQ1RNLFFBQVFDLEdBQUcsQ0FBQyxrQkFBa0JQO1lBQzlCLE9BQU9DO1FBQ1Q7UUFDQUssUUFBUUMsR0FBRyxDQUFDLG9CQUFvQlI7UUFDaEMsT0FBT0E7SUFDVCxFQUFFLE9BQU9TLEdBQUc7UUFDVkYsUUFBUUMsR0FBRyxDQUFDLGtCQUFrQkM7UUFDOUJGLFFBQVFDLEdBQUcsQ0FBQ0M7UUFDWixPQUFPQTtJQUNUO0FBQ0Y7QUFTRSIsInNvdXJjZXMiOlsid2VicGFjazovL2NoYXRncHQtY2xvbmUvLi9zcmMvYXBwL2xpYi91dGlscy50cz9lNmUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudENvbXBvbmVudENsaWVudCB9IGZyb20gXCJAc3VwYWJhc2UvYXV0aC1oZWxwZXJzLW5leHRqc1wiO1xuaW1wb3J0IHsgVXNlcklkZW50aXR5IH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xuaW1wb3J0IHsgdHlwZSBDbGFzc1ZhbHVlLCBjbHN4IH0gZnJvbSBcImNsc3hcIjtcbmltcG9ydCB7IFVVSUQgfSBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgeyB0d01lcmdlIH0gZnJvbSBcInRhaWx3aW5kLW1lcmdlXCI7XG5pbXBvcnQge1xuICBBbGVydERpYWxvZyxcbiAgQWxlcnREaWFsb2dBY3Rpb24sXG4gIEFsZXJ0RGlhbG9nQ2FuY2VsLFxuICBBbGVydERpYWxvZ0NvbnRlbnQsXG4gIEFsZXJ0RGlhbG9nRGVzY3JpcHRpb24sXG4gIEFsZXJ0RGlhbG9nRm9vdGVyLFxuICBBbGVydERpYWxvZ0hlYWRlcixcbiAgQWxlcnREaWFsb2dUaXRsZSxcbiAgQWxlcnREaWFsb2dUcmlnZ2VyLFxufSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2FsZXJ0LWRpYWxvZ1wiO1xuaW1wb3J0IHsgZXJyb3IgfSBmcm9tIFwiY29uc29sZVwiO1xuY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnRDb21wb25lbnRDbGllbnQoKTtcbmZ1bmN0aW9uIGNuKC4uLmlucHV0czogQ2xhc3NWYWx1ZVtdKSB7XG4gIHJldHVybiB0d01lcmdlKGNsc3goaW5wdXRzKSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU5ld0NoYXQoY2hhdF9uYW1lOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gIHRyeSB7XG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yLCBzdGF0dXMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNoYXRcIilcbiAgICAgIC5pbnNlcnQoW3sgdXNlcl9pZDogdXNlcklkLCBjaGF0X25hbWUgfV0pXG4gICAgICAuc2VsZWN0KCk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIkluc2VydGVkXCIpO1xuICAgIHJldHVybiBkYXRhO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coZSk7XG4gICAgcmV0dXJuIGU7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ2hhdHModXNlcl9pZDogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciwgc3RhdHVzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjaGF0XCIpXG4gICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgLmVxKFwidXNlcl9pZFwiLCB1c2VyX2lkKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3IgcmV0cmlldmluZyBhbGwgY2hhdHNcIiwgZXJyb3IpO1xuICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJhbGwgY2hhdHNcIiwgZGF0YSk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgICByZXR1cm4gZTtcbiAgfVxufVxuXG5cblxuLy8gdXNlcl9pZDogVVVJRFxuY29uc3QgZ2V0QWxsbWVzc2FnZXMgPSBhc3luYyAoY2hhdElkKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwibWVzc2FnZVwiKVxuICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgIC5lcShcImNoYXRfaWRcIiwgY2hhdElkKTtcblxuICAgIGNvbnNvbGUubG9nKCdyZWFkIG1lc3NhZ2UgZGF0YScsIGRhdGEsIGVycm9yKTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coXCJlcnJvclwiLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIG1lc3NhZ2VzXCIsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cblxuLy8gdXNlcl9pZDogVVVJRFxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0TWVzc2FnZShcbiAgcXVlc3Rpb246IHN0cmluZyxcbiAgcmVzcG9uc2U6IHN0cmluZyxcbiAgY2hhdElkOiBiaWdpbnRcbikge1xuICB0cnkge1xuICAgIGlmICghY2hhdElkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIk5vdCBjaGF0SURcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciwgc3RhdHVzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJtZXNzYWdlXCIpXG4gICAgICAuaW5zZXJ0KFt7IGNoYXRfaWQ6IGNoYXRJZCwgcXVlc3Rpb24sIHJlc3BvbnNlIH1dKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiaW5zZXJ0IE1Fc3NhZ2VcIiwgZXJyb3IpO1xuICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJJbnNlcnRlZCBNRXNzYWdlXCIsIGRhdGEpO1xuICAgIHJldHVybiBkYXRhO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coXCJpbnNlcnQgTUVzc2FnZVwiLCBlKTtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgICByZXR1cm4gZTtcbiAgfVxufVxuXG5leHBvcnQge1xuICBjbixcbiAgaW5zZXJ0TWVzc2FnZSxcbiAgY3JlYXRlTmV3Q2hhdCxcbiAgZ2V0QWxsQ2hhdHMsXG5cbiAgZ2V0QWxsbWVzc2FnZXMsXG59O1xuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudENvbXBvbmVudENsaWVudCIsImNsc3giLCJ0d01lcmdlIiwic3VwYWJhc2UiLCJjbiIsImlucHV0cyIsImNyZWF0ZU5ld0NoYXQiLCJjaGF0X25hbWUiLCJ1c2VySWQiLCJkYXRhIiwiZXJyb3IiLCJzdGF0dXMiLCJmcm9tIiwiaW5zZXJ0IiwidXNlcl9pZCIsInNlbGVjdCIsImNvbnNvbGUiLCJsb2ciLCJlIiwiZ2V0QWxsQ2hhdHMiLCJlcSIsImdldEFsbG1lc3NhZ2VzIiwiY2hhdElkIiwiaW5zZXJ0TWVzc2FnZSIsInF1ZXN0aW9uIiwicmVzcG9uc2UiLCJjaGF0X2lkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/lib/utils.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/jose","vendor-chunks/websocket","vendor-chunks/whatwg-url","vendor-chunks/formdata-node","vendor-chunks/set-cookie-parser","vendor-chunks/node-gyp-build","vendor-chunks/webidl-conversions","vendor-chunks/yaeti","vendor-chunks/utf-8-validate","vendor-chunks/bufferutil","vendor-chunks/is-typedarray","vendor-chunks/typedarray-to-buffer","vendor-chunks/tailwind-merge","vendor-chunks/web-streams-polyfill","vendor-chunks/openai","vendor-chunks/node-fetch","vendor-chunks/event-target-shim","vendor-chunks/agentkeepalive","vendor-chunks/form-data-encoder","vendor-chunks/abort-controller","vendor-chunks/ms","vendor-chunks/clsx","vendor-chunks/humanize-ms","vendor-chunks/axios","vendor-chunks/asynckit","vendor-chunks/debug","vendor-chunks/mime-db","vendor-chunks/form-data","vendor-chunks/follow-redirects","vendor-chunks/supports-color","vendor-chunks/proxy-from-env","vendor-chunks/mime-types","vendor-chunks/has-flag","vendor-chunks/delayed-stream","vendor-chunks/combined-stream"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fchat%2Froute&page=%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fchat%2Froute.ts&appDir=%2Fhome%2Fkirtan%2FDocuments%2Fsupabase-chat-gpt-main%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fkirtan%2FDocuments%2Fsupabase-chat-gpt-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();